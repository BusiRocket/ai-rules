---
description: General Engineering Guidelines (agent-optimized)
globs: "*"
alwaysApply: true
---

# General Engineering Guidelines

## Core Goal

Optimize for agent context by keeping **many small, focused files** and explicit boundaries.

## Agent Defaults

- Prefer small, safe changes over sweeping refactors unless requested.
- When requirements are ambiguous, ask a clarifying question before coding.
- Avoid adding new dependencies unless explicitly approved.
- Keep changes reversible; avoid touching unrelated files.
- Use subagents to process multiple files in parallel when the task involves several independent edits.
- Plan before executing: create a short plan before modifying code; ask if scope is unclear.
- After meaningful changes: briefly reflect on maintainability and scalability; suggest improvements if needed.

## Code Style

- English-only code, comments, and identifiers.
- Prefer SOLID and KISS where applicable.
- Prefer pure functions and hooks; avoid unnecessary classes.
- Avoid deep nesting; extract early.

## Repo Hygiene

- No index/barrel files.
- One responsibility per file.
- Keep route handlers thin; move logic to `services/`.

## Network / API

- Implement proper error handling for network requests and responses; surface user-friendly errors when possible.
- Consider API versioning and CORS when designing or integrating with backends.
- For external backends: consider retries for transient failures and appropriate serialization for complex payloads.

## Quality Gate

- Always run the project's check script after meaningful changes (e.g. `yarn check:all`, `npm run check`).
